<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Newsletter - Admin</title>
  <link rel="stylesheet" href="/css/styles.css" />
</head>
<body class="dark newsletter-page">
  <header class="topbar">
    <div class="container wide topbar-inner">
      <div class="brand"><span class="logo">⟡</span><span>Admin</span><span class="badge-pill">Newsletter</span></div>
      <nav>
        <a href="/admin.html">Admin Dashboard</a>
        <a href="/admin-content.html">Edit Site Content</a>
        <a href="/admin-vendors.html">Manage Vendors</a>
        <a href="/admin-photo-contests.html">Photo Contests</a>
        <a href="/newsletter.html" aria-current="page">Newsletter</a>
        <a href="/admin-invoices.html">Invoices</a>
      </nav>
      <div class="actions"><button id="logout" class="cta secondary">Logout</button></div>
    </div>
  </header>

  <main class="container wide admin">
    <div class="admin-layout no-sidebar">
      <div class="content">
        <div class="admin-header">
          <div>
            <div class="breadcrumbs small text-secondary">Home / Admin / Newsletter</div>
            <h1 class="page-title">Newsletter Management</h1>
            <p class="text-secondary">Create and send beautiful newsletters to your subscribers</p>
          </div>
        </div>

        <!-- Newsletter form -->
        <section class="section-card">
          <div class="section-head">
            <h2>📧 Compose Newsletter</h2>
            <p class="text-secondary">Fill out the form below to create your newsletter</p>
          </div>
          <div class="section-body">
            <form id="newsletterForm" class="signup-form">
              <div class="field-row">
                <div class="field">
                  <label for="subject">📝 Subject Line *</label>
                  <input id="subject" name="subject" type="text" required placeholder="Enter a compelling subject line..." />
                  <div class="field-help">
                    <p class="small text-secondary">💡 Tip: Keep it under 50 characters for better open rates</p>
                  </div>
                </div>
                
                <div class="field">
                  <label for="preview">👀 Preview Text</label>
                  <input id="preview" name="preview" type="text" placeholder="Brief preview that appears in email clients..." />
                  <div class="field-help">
                    <p class="small text-secondary">💡 Tip: This appears below the subject in most email apps</p>
                  </div>
                </div>
              </div>
              
              <div class="field">
                <label for="message">✍️ Email Content *</label>
                <textarea id="message" name="message" rows="15" required placeholder="Write your newsletter content here...&#10;&#10;Simple formatting tips:&#10;• Use bullet points (•) for lists&#10;• Double line breaks for new paragraphs&#10;• Keep it friendly and engaging!&#10;• Write like you're talking to a friend"></textarea>
                <div class="field-help">
                  <p class="small text-secondary">💡 Tip: Write like you're talking to a friend. Use bullet points (•) for lists and double line breaks for new paragraphs.</p>
                  <div class="formatting-examples">
                    <details>
                      <summary class="small text-secondary">📝 Click to see formatting examples</summary>
                      <div class="formatting-examples-content">
                        <p class="small text-secondary">• Bullet points like this</p>
                        <p class="small text-secondary">Double line breaks create new paragraphs</p>
                        <p class="small text-secondary">📱 Emojis work great too!</p>
                      </div>
                    </details>
                  </div>
                </div>
              </div>

              <div class="field-row">
                <div class="field">
                  <label for="sendTo">👥 Send To *</label>
                  <select id="sendTo" name="sendTo" required>
                    <option value="all">📢 All Subscribers</option>
                    <option value="confirmed">✅ Confirmed Subscribers Only</option>
                    <option value="returning">🔄 Returning Customers Only</option>
                    <option value="new">🆕 New Subscribers Only</option>
                  </select>
                  <div class="field-help">
                    <p class="small text-secondary">💡 Tip: Choose the right audience for your message</p>
                  </div>
                </div>
                
                <div class="field">
                  <label for="schedule">⏰ Schedule</label>
                  <select id="schedule" name="schedule">
                    <option value="now">🚀 Send Now</option>
                    <option value="later">📅 Schedule for Later</option>
                  </select>
                  <div class="field-help">
                    <p class="small text-secondary">💡 Tip: Schedule for when your audience is most active</p>
                  </div>
                </div>
              </div>

              <div id="scheduleOptions" class="field-row" style="display: none;">
                <div class="field">
                  <label for="scheduleDate">📅 Date</label>
                  <input id="scheduleDate" name="scheduleDate" type="date" />
                </div>
                <div class="field">
                  <label for="scheduleTime">🕐 Time</label>
                  <input id="scheduleTime" name="scheduleTime" type="time" />
                </div>
              </div>

              <div class="field-row">
                <div class="field">
                  <label class="checkbox-label">
                    <input id="sendTest" type="checkbox" />
                    <span>🧪 Send test email to me first</span>
                  </label>
                  <div class="field-help">
                    <p class="small text-secondary">💡 Tip: Always test before sending to your full list</p>
                  </div>
                </div>
                
                <div class="field">
                  <label class="checkbox-label">
                    <input id="trackOpens" type="checkbox" checked />
                    <span>📊 Track email opens</span>
                  </label>
                  <div class="field-help">
                    <p class="small text-secondary">💡 Tip: See how many people open your emails</p>
                  </div>
                </div>
              </div>

              <div class="field-row">
                <div class="field">
                  <label class="checkbox-label">
                    <input id="trackClicks" type="checkbox" checked />
                    <span>🔗 Track link clicks</span>
                  </label>
                  <div class="field-help">
                    <p class="small text-secondary">💡 Tip: See which links get the most clicks</p>
                  </div>
                </div>
                
                <div class="field">
                  <label class="checkbox-label">
                    <input id="unsubscribeLink" type="checkbox" checked />
                    <span>🚪 Include unsubscribe link</span>
                  </label>
                  <div class="field-help">
                    <p class="small text-secondary">💡 Tip: Required by law and builds trust</p>
                  </div>
                </div>
              </div>

              <div class="form-actions">
                <button type="button" id="previewBtn" class="cta secondary">👁️ Preview</button>
                <button type="button" id="saveDraftBtn" class="cta secondary">💾 Save Draft</button>
                <button type="submit" class="cta">📤 Send Newsletter</button>
              </div>

              <div id="newsletterMessage" class="form-message" role="status"></div>
            </form>
          </div>
        </section>

        <!-- Newsletter templates -->
        <section class="section-card">
          <div class="section-head">
            <h2>📋 Quick Templates</h2>
            <p class="text-secondary">Click any template to automatically fill your newsletter form</p>
          </div>
          <div class="section-body">
            <div class="template-grid">
              <button class="template-btn" data-template="welcome">
                <div class="template-icon">👋</div>
                <h4>Welcome Email</h4>
                <p>Welcome new subscribers with a friendly introduction and next steps</p>
                <div class="template-tip">Perfect for new subscribers</div>
              </button>
              
              <button class="template-btn" data-template="promotion">
                <div class="template-icon">🎉</div>
                <h4>Promotion Update</h4>
                <p>Announce new promotions, special offers, or limited-time deals</p>
                <div class="template-tip">Great for sales and offers</div>
              </button>
              
              <button class="template-btn" data-template="reminder">
                <div class="template-icon">⏰</div>
                <h4>Reminder</h4>
                <p>Send gentle reminders about upcoming events, deadlines, or actions</p>
                <div class="template-tip">Ideal for event reminders</div>
              </button>
              
              <button class="template-btn" data-template="newsletter">
                <div class="template-icon">📰</div>
                <h4>Monthly Newsletter</h4>
                <p>Regular newsletter with updates, news, and valuable content</p>
                <div class="template-tip">Perfect for regular updates</div>
              </button>
            </div>
          </div>
        </section>

        <!-- Newsletter stats -->
        <section class="section-card">
          <div class="section-head">
            <h2>📊 Newsletter Statistics</h2>
            <p class="text-secondary">Track how your newsletters are performing</p>
          </div>
          <div class="section-body">
            <div class="stats-grid">
              <div class="stat-card">
                <div class="stat-icon">📤</div>
                <div class="stat-number" id="totalSent">0</div>
                <div class="stat-label">Total Sent</div>
                <div class="stat-description">Newsletters sent this month</div>
              </div>
              <div class="stat-card">
                <div class="stat-icon">👁️</div>
                <div class="stat-number" id="openRate">0%</div>
                <div class="stat-label">Open Rate</div>
                <div class="stat-description">How many people opened</div>
              </div>
              <div class="stat-card">
                <div class="stat-icon">🔗</div>
                <div class="stat-number" id="clickRate">0%</div>
                <div class="stat-label">Click Rate</div>
                <div class="stat-description">How many people clicked</div>
              </div>
              <div class="stat-card">
                <div class="stat-icon">👥</div>
                <div class="stat-number" id="subscribers">0</div>
                <div class="stat-label">Active Subscribers</div>
                <div class="stat-description">People on your list</div>
              </div>
            </div>
          </div>
        </section>
      </div>
    </div>
  </main>

  <!-- Toast -->
  <div id="toast" class="toast hidden" role="status" aria-live="polite"></div>

  <!-- Preview modal -->
  <div id="previewModal" class="modal hidden" role="dialog" aria-modal="true" aria-labelledby="previewTitle">
    <div class="modal-card">
      <button class="modal-close" data-close-modal>&times;</button>
      <h2 id="previewTitle">👁️ Email Preview</h2>
      <p class="text-secondary">This is how your newsletter will look to subscribers</p>
      <div class="preview-content">
        <div class="preview-header">
          <strong>Subject:</strong> <span id="previewSubject"></span>
        </div>
        <div class="preview-body" id="previewBody"></div>
      </div>
      <div class="modal-actions">
        <button class="cta secondary" data-close-modal>Close</button>
        <button class="cta" id="sendFromPreview">Send Now</button>
      </div>
    </div>
  </div>

  <script src="/js/nav.js"></script>
  <script src="/js/newsletter.js?v=1.0.1"></script>
</body>
</html> 